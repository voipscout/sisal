#!/usr/bin/env ruby

require_relative '../lib/sisal'

if ARGV.size < 2
  puts "Usage: sisal_test mobile_number text"
  puts "Example: sisal_test 554800001111 OHAI"
  exit 1
end

token = "0c05193d7b195f4fb3f1fd788b1849570309112fd65d2fc5015c6ddded609bcc2170bd28b25717aa95612aec"
message = Sisal::Message.new(ARGV.shift, ARGV.join(' '))
provider = Sisal::Providers::TropoProvider.new(token)
response = provider.send message
puts response.inspect
